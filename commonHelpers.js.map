{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function getPixabay(userQuery) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '43152817-de47b6f1b37f4fad093212301',\n    q: userQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res => res.json());\n}\n","export default function renderInput(\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads\n) {\n  return `    \n    <li class=\"retrieved-search-element\">\n      <a href=\"${largeImageURL}\"><img class=\"img-element\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul class=\"menu\">\n        <li class=\"menu-item\">\n          <h4 class=\"menu-item-text-bold\">Likes</h4>\n          <p class=\"menu-item-text\">${likes}</p>\n        </li>\n        <li class=\"menu-item\">\n          <h4 class=\"menu-item-text-bold\">Views</h4>\n          <p class=\"menu-item-text\">${views}</p>\n        </li>\n        <li class=\"menu-item\">\n          <h4 class=\"menu-item-text-bold\">Comments</h4>\n          <p class=\"menu-item-text\">${comments}</p>\n        </li>\n        <li class=\"menu-item\">\n          <h4 class=\"menu-item-text-bold\">Downloads</h4>\n          <p class=\"menu-item-text\">${downloads}</p>\n        </li>\n      </ul>\n    </li>`;\n}\n","import getPixabay from './js/pixabay-api';\nimport renderInput from './js/render-functions';\n\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// console.log(getPixabay());\n\nconst searchForm = {\n  form: document.querySelector('.search-form'),\n  btn: document.querySelector('.btn-submit'),\n  ul: document.querySelector('.flex-container'),\n  load: document.querySelector('.loader'),\n};\n\nsearchForm.form.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  searchForm.load.classList.remove('included');\n\n  const user = event.target.query.value.trim();\n  if (user !== '') {\n    getPixabay(user)\n      .then(data => {\n        searchForm.load.classList.add('included');\n\n        if (data.hits.length !== 0) {\n          searchForm.ul.innerHTML = '';\n          data.hits.forEach(\n            ({\n              webformatURL,\n              largeImageURL,\n              tags,\n              likes,\n              views,\n              comments,\n              downloads,\n            }) => {\n              searchForm.ul.insertAdjacentHTML(\n                'beforeend',\n                renderInput(\n                  webformatURL,\n                  largeImageURL,\n                  tags,\n                  likes,\n                  views,\n                  comments,\n                  downloads\n                )\n              );\n            }\n          );\n          new SimpleLightbox('.flex-container a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          }).refresh();\n          return searchForm.form.reset();\n        } else {\n          iziToastIcon(\n            'Sorry, there are no images matching your search query. Please try again!'\n          );\n          return searchForm.form.reset();\n        }\n      })\n      .catch(error => console.error(error));\n  } else {\n    iziToastIcon('Please enter the text');\n    return searchForm.form.reset();\n  }\n}\n\n// Винесення в окрему функцію виїджаючого попередження\nfunction iziToastIcon(text) {\n  return iziToast.show({\n    backgroundColor: '#ef4040',\n    messageColor: 'white',\n    messageSize: '16px',\n    position: 'topRight',\n    message: text,\n    close: false,\n  });\n}\n"],"names":["getPixabay","userQuery","BASE_URL","params","url","res","renderInput","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","handleSubmit","event","user","data","SimpleLightbox","iziToastIcon","error","text","iziToast"],"mappings":"6vBAAe,SAASA,EAAWC,EAAW,CAC5C,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCbe,SAASC,EACtBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACA,CACA,MAAO;AAAA;AAAA,iBAEQL,CAAa,mCAAmCD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,sCAIrDC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA,UAI/C,CClBA,MAAMC,EAAa,CACjB,KAAM,SAAS,cAAc,cAAc,EAC3C,IAAK,SAAS,cAAc,aAAa,EACzC,GAAI,SAAS,cAAc,iBAAiB,EAC5C,KAAM,SAAS,cAAc,SAAS,CACxC,EAEAA,EAAW,KAAK,iBAAiB,SAAUC,CAAY,EAEvD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBF,EAAW,KAAK,UAAU,OAAO,UAAU,EAE3C,MAAMG,EAAOD,EAAM,OAAO,MAAM,MAAM,OACtC,GAAIC,IAAS,GACXjB,EAAWiB,CAAI,EACZ,KAAKC,IACJJ,EAAW,KAAK,UAAU,IAAI,UAAU,EAEpCI,EAAK,KAAK,SAAW,GACvBJ,EAAW,GAAG,UAAY,GAC1BI,EAAK,KAAK,QACR,CAAC,CACC,aAAAX,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACd,IAAkB,CACJC,EAAW,GAAG,mBACZ,YACAR,EACEC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,CACD,CACjB,CACa,CACb,EACU,IAAIM,EAAe,oBAAqB,CACtC,aAAc,MACd,aAAc,GAC1B,CAAW,EAAE,QAAO,EACHL,EAAW,KAAK,UAEvBM,EACE,0EACZ,EACiBN,EAAW,KAAK,SAE1B,EACA,MAAMO,GAAS,QAAQ,MAAMA,CAAK,CAAC,MAEtC,QAAAD,EAAa,uBAAuB,EAC7BN,EAAW,KAAK,OAE3B,CAGA,SAASM,EAAaE,EAAM,CAC1B,OAAOC,EAAS,KAAK,CACnB,gBAAiB,UACjB,aAAc,QACd,YAAa,OACb,SAAU,WACV,QAASD,EACT,MAAO,EACX,CAAG,CACH"}